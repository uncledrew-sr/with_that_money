# Risk Management Report (FE)
- 본 문서는 '가치계산기' 프론트엔드 개발 과정에서 발생한 주요 기술적 리스크와 해결 방안을 기록한 문서입니다.

### [1] 기술적 리스크 관리 (Technical Risks)
1. 물리 엔진(Matter.js) 연산 및 렌더링 최적화 리스크
- 문제 상황
    - 상태 : Matter.js를 이용한 버블 애니메이션 구현 중, 물체의 위치(Position) 및 속도(Velocity) 값이 정수형으로 반환되거나 강제 형변환되어 계산될 때 물리 연산의 정밀도가 떨어지는 현상 발생.
- 리스크 : 버블이 화면 밖으로 튕겨 나가거나, 특정 지점에서 겹쳐진 채 움직이지 않는 '연산 교착 상태' 발생.
- 대응
    - 소수점 정밀도 유지 : display 렌더링 시에는 toFixed(1)을 사용하여 사용자에게 깔끔한 수치를 보여주되, 엔진 내부 연산은 부동 소수점을 유지하도록 설계.
- 프레임 보정 : Matter.Runner를 활용하여 브라우저의 주사율과 독립적인 물리 엔진 업데이트 루프를 생성하여 연산 오류를 최소화함.
- 예외 처리 : afterUpdate 이벤트를 통해 버블의 위치가 컨테이너를 비정상적으로 이탈할 경우, 즉시 위치를 재배치(Body.setPosition)하는 안전장치 로직 추가.

2. 사용자 입력값 미검증에 따른 브라우저 과부하 리스크
- 문제 상황
    - 상태 : 사용자가 입력하는 '금액'의 최소/최대 제한이 없어, 매우 작은 단위가 선택된 상태에서 고액을 입력할 경우 수천 개의 버블 객체가 동시에 생성됨.
- 리스크 : 과도한 DOM 객체 생성 및 물리 연산으로 인한 브라우저 메모리 점유율 급증 및 탭 크래시(Crash) 현상.
- 해결 및 대응
    - 입력 임계값(Threshold) 설정:
        - 최소 금액(MIN_PRICE_LIMIT) : 10,000원
        - 최대 금액(MAX_PRICE_LIMIT) : 2,000,000원
        - 객체 생성 제한(Clamping) : getBubbleCount 함수 내에서 로직 상 버블의 개수가 최대 80개를 넘지 않도록 상한선을 설정하여 렌더링 성능 보호.
        - UX 대응 : 제한 범위를 벗어난 입력 시 amount-error-msg 요소를 통해 사용자에게 피드백 제공.

3. API 서버 연결 및 네트워크 포트 차단 리스크
- 문제 상황
    - 상태 : 로컬 개발 환경 및 스테이징 환경에서 API 서버(Backend)와 통신 시 특정 포트가 방화벽에 의해 차단되거나, CORS 정책으로 인해 리소스를 불러오지 못함.
- 리스크 : Kakao OAuth 인증 및 위시리스트 CRUD 기능 마비.
- 해결 및 대응
    - 환경 변수 중앙화 : config.js를 통해 API_BASE_URL을 관리하고, 상황에 따라 포트 및 도메인을 유연하게 변경할 수 있도록 구조화.
- 에러 핸들링 : ApiService 내 try-catch 블록을 강화하여 통신 실패 시 사용자에게 알림(alert)을 띄우고 기본 UI(Experience Mode)로 전환되도록 폴백(Fallback) 로직 구현.

4. JWT 인증 및 세션 유지 관리 리스크
- 문제 상황
    - 상태 : 로컬 스토리지에 저장된 JWT 토큰이 만료되었음에도 불구하고 프론트엔드에서 이를 감지하지 못하고 비정상적인 요청을 계속 보냄.
- 리스크 : 401 Unauthorized 에러 발생 시 앱이 멈추거나, 유효하지 않은 사용자 정보가 UI에 노출되는 보안 및 사용성 문제.
- 해결 및 대응
    - 공통 인터셉터 로직 : api.js의 handleAuthError 함수를 통해 모든 API 응답의 HTTP 상태 코드를 감시.
    - 세션 초기화 자동화 : 401, 403 에러 감지 시 즉시 localStorage의 토큰을 삭제하고, window.location.reload() 또는 initValueCalculator를 호출하여 로그인 전 상태로 UI를 강제 동기화함.
    - Bearer Schema 준수 : getHeaders 함수를 통해 Authorization 헤더에 Bearer 접두사가 누락되지 않도록 규격화.

### [2] 프로젝트 운영 리스크 관리 (Operational Risks)
1. 커뮤니케이션 미흡으로 인한 개발 지연
- 문제 상황
    - API 스펙 확정 및 연결 과정에서 FE 측에서 적절한 커뮤니케이션이 부재하여 결과물의 일관성이 결여됨.
- 리스크 : 프론트엔드 개발 스프린트 마감일 미준수 및 백엔드 개발자 추가 작업 증가.
- 해결 및 대응 : API 적용에 추가 업무를 부여하고, 야간 시간대에 추가 업무를 하여 최종 마감일을 준수함.
